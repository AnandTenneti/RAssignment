---
title: "Assignment"
output: html_document
date: "2025-11-12"
---
## 1. 


```{r calculate-sd-from-var, echo=TRUE}
  calculate_sd_from_var <- function(data, field) {
  values <- data[[field]]
  
  # Calculate population variance
  pop_variance <- sum((values - mean(values))^2) / length(values)
  
  # Calculate population standard deviation
  pop_sd <- sqrt(pop_variance)
  
  # Display results
  cat("Field:", field, "\n")
  cat("Values:\n")
  print(values)
  cat("\nPopulation Variance:", pop_variance, "\n")
  cat("Standard Deviation (from population variance):", pop_sd, "\n")
  
  # Return SD value
  return(pop_sd)
}

# Example usage
data(pressure)
calculate_sd_from_var(pressure, "pressure")
```

## 2.
Take the dataset ‘Titanic’. List out the categorical fields and create cross-tabulations
of Sex vs Survived and Age vs Survived, along with the chi-square proportions and
row and column totals listed out.

# Load and prepare dataset
```{r titanic_setup}
  data(Titanic)
  titanic_df <- as.data.frame(Titanic)
```
# Cross-tabulation: Sex vs Survived
  tab_sex_surv <- xtabs(Freq ~ Sex + Survived, data = titanic_df)
  tab_sex_surv

# Add row and column totals
  addmargins(tab_sex_surv)

# Chi-square test
  chi_sex_surv <- chisq.test(tab_sex_surv)
  chi_sex_surv

# Chi-square proportions (expected proportions)
  chi_sex_surv$expected

# Cross-tabulation: Age vs Survived
  tab_age_surv <- xtabs(Freq ~ Age + Survived, data = titanic_df)
  tab_age_surv

# Add row and column totals
  addmargins(tab_age_surv)

# Chi-square test
  chi_age_surv <- chisq.test(tab_age_surv)
  chi_age_surv

# Expected proportions
  chi_age_surv$expected

## 3.
  Differentiate between sample and population variance, along with examples and a
  demonstration with an actual dataset.

  # Load dataset
  data(pressure)

  # View first few records
  head(pressure)

  # Extract the pressure field
  values <- pressure$pressure

  # Calculate population variance (divide by N)
  population_variance <- sum((values - mean(values))^2) / length(values)

  # Calculate sample variance (default in R uses n - 1)
  sample_variance <- var(values)

  population_variance
  sample_variance


## 4.
A dataset has a field with numeric values from 1 to 12, representing months
a. How would you convert this to a factor? Ensure that the months are in order
and their numeric value corresponds to their order.
# Suppose your numeric month field is:
month_num <- 1:12   # or your dataset$field

# Convert to an ordered factor
month_factor <- factor(
  month_num,
  levels = 1:12,                     # ensures correct order
  labels = month.name,               # "January", "February", ...
  ordered = TRUE                     # makes it an ordered factor
)

month_factor
b. How would converting this into a factor change the type of analysis possible?
  Converting the numeric month field into a factor changes the analysis by treating it as a categorical time unit rather than a continuous numeric variable. 
  This prevents inappropriate arithmetic, enables proper categorical/ordinal analysis, improves interpretation in models, and ensures correct ordering in tables
   and plots.
c. What are the differences between treating it as a factor vs treating it as a numeric field?
  When treated as a numeric variable, months are interpreted as continuous values, which permits arithmetic operations and linear modelling but wrongly 
  implies that equal numerical spacing carries meaningful quantitative differences. In contrast, representing months as a factor treats
  them as discrete categorical groups, enabling appropriate categorical analyses such as ANOVA or chi-square tests, while also preventing inappropriate numerical           computations.


## 5.
An array X has dimensions (region × gender × year), representing average
income. What does the following calculate:
apply(X, 3, function(x) max(x) - min(x))
What would be the dimensions of this output? Write a program to perform the same
without apply() or any of its variants.

## 6.
From the table given below, construct a file called sales_data.csv. Next, read the file
sales_data.csv and write a function called check_sales_data(data) which does the
following:
a. Type checks each field and cleans up/converts it appropriately. Delete the row
if “Quantity” or “Unit_Price” is missing; otherwise, leave the field blank. Print
an error message every time an issue is encountered.
b. Store Quantity * Unit_Price in a new column called “Total_Sale”.
c. If the total sale is greater than $50,000, label it as “High Value”; otherwise,
label it as “Regular”. Save this in a new column called “Category”.
Write this new dataset into an XLSX file. Submit the code and the resulting XLSX file.
